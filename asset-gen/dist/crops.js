(()=>{"use strict";const e=JSON.parse('[{"name":"Blue Jazz","season":"Spring","seed_cost":30,"sell_price":50,"days_to_grow":7},{"name":"Carrot","season":"Spring","seed_cost":0,"sell_price":35,"days_to_grow":3},{"name":"Cauliflower","season":"Spring","seed_cost":80,"sell_price":175,"days_to_grow":12},{"name":"Coffee Bean","season":"Spring","seed_cost":15,"sell_price":15,"days_to_grow":10,"regrowth_period":2,"yield":4,"percent_chance_extra":2},{"name":"Garlic","season":"Spring","seed_cost":40,"sell_price":60,"days_to_grow":4},{"name":"Green Bean","season":"Spring","seed_cost":60,"sell_price":40,"days_to_grow":10,"regrowth_period":3},{"name":"Kale","season":"Spring","seed_cost":70,"sell_price":110,"days_to_grow":6},{"name":"Parsnip","season":"Spring","seed_cost":20,"sell_price":35,"days_to_grow":4},{"name":"Potato","season":"Spring","seed_cost":50,"sell_price":80,"days_to_grow":6,"percent_chance_extra":25},{"name":"Rhubarb","season":"Spring","seed_cost":100,"sell_price":220,"days_to_grow":13},{"name":"Rice","season":"Spring","seed_cost":40,"sell_price":30,"days_to_grow":6},{"name":"Strawberry","season":"Spring","seed_cost":100,"sell_price":120,"days_to_grow":8,"regrowth_period":4,"percent_chance_extra":2},{"name":"Tulip","season":"Spring","seed_cost":20,"sell_price":30,"days_to_grow":6}]');var r;function o(e,o){var t,n,s,a,l;let i=28-o,_=0,d=0;if(i>e.days_to_grow&&(_+=1,d+=e.days_to_grow,e.regrowth_period)){let r=Math.floor((i-e.days_to_grow)/e.regrowth_period);_+=r,d+=r*e.regrowth_period}let c=_*(null!==(t=e.yield)&&void 0!==t?t:1)+(null!==(n=e.percent_chance_extra)&&void 0!==n?n:0)/100,p=c*e.sell_price-e.seed_cost,g=p/d;return{name:e.name,season:r.fromString(e.season),seed_cost:e.seed_cost,sell_price:e.sell_price,days_to_grow:e.days_to_grow,regrowth_period:null!==(s=e.regrowth_period)&&void 0!==s?s:null,yield:null!==(a=e.yield)&&void 0!==a?a:null,percent_chance_extra:null!==(l=e.percent_chance_extra)&&void 0!==l?l:null,useful_days:d,num_harvests:_,num_crops:c,profit:p,daily_profit:g}}!function(e){e[e.SPRING=0]="SPRING",e[e.SUMMER=1]="SUMMER",e[e.FALL=2]="FALL"}(r||(r={})),function(e){e.fromString=function(r){switch(r.toUpperCase()){case"SPRING":return e.SPRING;case"SUMMER":return e.SUMMER;case"FALL":return e.FALL;default:throw new Error(`Unknown season ${r}`)}}}(r||(r={}));let t=[["Name",e=>e.name],["Season",e=>r[e.season]],["Seed Cost",e=>e.seed_cost.toString()],["Sell Price",e=>e.sell_price.toString()],["Days to Grow",e=>e.days_to_grow.toString()],["Regrowth Period",e=>{var r,o;return null!==(o=null===(r=e.regrowth_period)||void 0===r?void 0:r.toString())&&void 0!==o?o:"-"}],["Yield",e=>{var r;let o=null!==(r=e.yield)&&void 0!==r?r:1;return e.percent_chance_extra?`${o} + ${e.percent_chance_extra}%`:o.toString()}],["Useful Days",e=>e.useful_days.toString()],["Num Harvests",e=>e.num_harvests.toString()],["Num Crops",e=>{let r=e.num_crops;return Number.isInteger(r)?r.toString():e.num_crops.toFixed(2)}],["Profit",e=>e.profit.toFixed(2)],["Daily Profit",e=>Number.isFinite(e.daily_profit)?e.daily_profit.toFixed(2):"-"]];function n(){console.log("Hydrating!");let r=document.getElementById("crop-table");if(!(r instanceof HTMLTableElement))throw new Error("crop-table should be a <table>");r.replaceChildren();let n=document.querySelector("#day").valueAsNumber,s=r.createTHead().insertRow();for(let[e,r]of t)s.insertCell().appendChild(document.createTextNode(e));let a=r.createTBody();for(let r of e){let e=o(r,n),s=a.insertRow();for(let[r,o]of t){let r=o(e);s.insertCell().appendChild(document.createTextNode(r))}}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",n):n(),document.getElementById("input-panel").addEventListener("change",n)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Y0FDcEMsS0FBTUYsYUFBaUJHLGtCQUNuQixNQUFNLElBQUlkLE1BQU0sa0NBR3BCVyxFQUFNSSxrQkFHTixJQUFJQyxFQUFjSixTQUFTSyxjQUFnQyxRQUFTQyxjQUloRUMsRUFEUVIsRUFBTVMsY0FDRkMsWUFDaEIsSUFBSyxJQUFLQyxFQUFVQyxLQUFNdEIsRUFDdEJrQixFQUFJSyxhQUFhQyxZQUFZYixTQUFTYyxlQUFlSixJQUl6RCxJQUFJSyxFQUFRaEIsRUFBTWlCLGNBQ2xCLElBQUssSUFBSUMsS0FBUSxFQUFrQixDQUMvQixJQUFJQyxFQUFTeEQsRUFBVXVELEVBQU1iLEdBQ3pCRyxFQUFNUSxFQUFNTixZQUNoQixJQUFLLElBQUtFLEVBQUdRLEtBQWE5QixFQUFTLENBQy9CLElBQUkrQixFQUFRRCxFQUFTRCxHQUNyQlgsRUFBSUssYUFBYUMsWUFBWWIsU0FBU2MsZUFBZU0sR0FDekQsQ0FDSixDQUNKLENBRzRCLFlBQXhCcEIsU0FBU3FCLFdBRVRyQixTQUFTc0IsaUJBQWlCLG1CQUFvQjFCLEdBRzlDQSxJQUtKSSxTQUFTQyxlQUFlLGVBQWdCcUIsaUJBQWlCLFNBQVUxQixFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2Nyb3BzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5cclxuLy8gc2hvdWxkIGkgcHVsbCB0aGlzIGZyb20gYSBKU09OIGxpa2UgaSdtIGRvaW5nIG5vdz8gb3Igc2hvdWxkIGkganVzdFxyXG4vLyBoYXJkLWNvZGUgaXQgaW5saW5lIChtaWdodCBiZSBtb3JlIHJlYWRhYmxlKVxyXG5pbXBvcnQgY3JvcF9kZWZpbml0aW9ucyBmcm9tIFwiLi9jcm9wcy5qc29uXCI7XHJcblxyXG50eXBlIENyb3BEZWZpbml0aW9uID0gdHlwZW9mIGNyb3BfZGVmaW5pdGlvbnNbbnVtYmVyXTtcclxuXHJcbmVudW0gU2Vhc29uIHtcclxuICAgIFNQUklORywgU1VNTUVSLCBGQUxMXHJcbn1cclxuXHJcbm5hbWVzcGFjZSBTZWFzb24ge1xyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGZyb21TdHJpbmcoczogc3RyaW5nKTogU2Vhc29uIHtcclxuICAgICAgICBzd2l0Y2ggKHMudG9VcHBlckNhc2UoKSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiU1BSSU5HXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gU2Vhc29uLlNQUklORztcclxuICAgICAgICAgICAgY2FzZSBcIlNVTU1FUlwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFNlYXNvbi5TVU1NRVI7XHJcbiAgICAgICAgICAgIGNhc2UgXCJGQUxMXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gU2Vhc29uLkZBTEw7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gc2Vhc29uICR7c31gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbnR5cGUgQ3JvcERhdGEgPSB7XHJcbiAgICBuYW1lOiBzdHJpbmcsXHJcbiAgICBzZWFzb246IFNlYXNvbixcclxuICAgIHNlZWRfY29zdDogbnVtYmVyLFxyXG4gICAgc2VsbF9wcmljZTogbnVtYmVyLFxyXG4gICAgZGF5c190b19ncm93OiBudW1iZXIsXHJcbiAgICByZWdyb3d0aF9wZXJpb2Q6IG51bWJlciB8IG51bGwsXHJcbiAgICB5aWVsZDogbnVtYmVyIHwgbnVsbCxcclxuICAgIHBlcmNlbnRfY2hhbmNlX2V4dHJhOiBudW1iZXIgfCBudWxsLFxyXG4gICAgdXNlZnVsX2RheXM6IG51bWJlcixcclxuICAgIG51bV9oYXJ2ZXN0czogbnVtYmVyLFxyXG4gICAgbnVtX2Nyb3BzOiBudW1iZXIsXHJcbiAgICBwcm9maXQ6IG51bWJlcixcclxuICAgIGRhaWx5X3Byb2ZpdDogbnVtYmVyLFxyXG59O1xyXG5cclxuZnVuY3Rpb24gY2FsY3VsYXRlKGNyb3A6IENyb3BEZWZpbml0aW9uLCBzdGFydF9kYXk6IG51bWJlcik6IENyb3BEYXRhIHtcclxuICAgIGxldCBkYXlzX2xlZnQgPSAyOCAtIHN0YXJ0X2RheTsgIC8vIHBsYW50aW5nIG9uIGRheSAyOCBpcyB6ZXJvIGRheXMgbGVmdFxyXG5cclxuICAgIC8vIFdoYXQncyB0aGUgcHJvZml0PyBEZXBlbmRzIGhvdyBtYW55IGhhcnZlc3RzIHdlIGNhbiBnZXQgdGhpcyBzZWFzb24uXHJcbiAgICBsZXQgbnVtX2hhcnZlc3RzID0gMDtcclxuICAgIGxldCB1c2VmdWxfZGF5cyA9IDA7XHJcbiAgICBpZiAoZGF5c19sZWZ0ID4gY3JvcC5kYXlzX3RvX2dyb3cpIHtcclxuICAgICAgICBudW1faGFydmVzdHMgKz0gMTtcclxuICAgICAgICB1c2VmdWxfZGF5cyArPSBjcm9wLmRheXNfdG9fZ3JvdztcclxuICAgICAgICBpZiAoY3JvcC5yZWdyb3d0aF9wZXJpb2QpIHtcclxuICAgICAgICAgICAgbGV0IGV4dHJhX2hhcnZlc3RzID0gTWF0aC5mbG9vcigoZGF5c19sZWZ0IC0gY3JvcC5kYXlzX3RvX2dyb3cpIC8gY3JvcC5yZWdyb3d0aF9wZXJpb2QpO1xyXG4gICAgICAgICAgICBudW1faGFydmVzdHMgKz0gZXh0cmFfaGFydmVzdHM7XHJcbiAgICAgICAgICAgIHVzZWZ1bF9kYXlzICs9IGV4dHJhX2hhcnZlc3RzICogY3JvcC5yZWdyb3d0aF9wZXJpb2Q7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFdlIGNhbiBzb21ldGltZXMgZ2V0IG11bHRpcGxlIGNyb3BzIHBlciBoYXJ2ZXN0XHJcbiAgICBsZXQgbnVtX2Nyb3BzID0gbnVtX2hhcnZlc3RzICogKGNyb3AueWllbGQgPz8gMSkgKyAoKGNyb3AucGVyY2VudF9jaGFuY2VfZXh0cmEgPz8gMCkgLyAxMDApO1xyXG5cclxuICAgIGxldCBwcm9maXQgPSBudW1fY3JvcHMgKiBjcm9wLnNlbGxfcHJpY2UgLSBjcm9wLnNlZWRfY29zdDtcclxuICAgIGxldCBkYWlseV9wcm9maXQgPSBwcm9maXQgLyB1c2VmdWxfZGF5cztcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIG5hbWU6IGNyb3AubmFtZSxcclxuICAgICAgICBzZWFzb246IFNlYXNvbi5mcm9tU3RyaW5nKGNyb3Auc2Vhc29uKSxcclxuICAgICAgICBzZWVkX2Nvc3Q6IGNyb3Auc2VlZF9jb3N0LFxyXG4gICAgICAgIHNlbGxfcHJpY2U6IGNyb3Auc2VsbF9wcmljZSxcclxuICAgICAgICBkYXlzX3RvX2dyb3c6IGNyb3AuZGF5c190b19ncm93LFxyXG4gICAgICAgIHJlZ3Jvd3RoX3BlcmlvZDogY3JvcC5yZWdyb3d0aF9wZXJpb2QgPz8gbnVsbCxcclxuICAgICAgICB5aWVsZDogY3JvcC55aWVsZCA/PyBudWxsLFxyXG4gICAgICAgIHBlcmNlbnRfY2hhbmNlX2V4dHJhOiBjcm9wLnBlcmNlbnRfY2hhbmNlX2V4dHJhID8/IG51bGwsXHJcbiAgICAgICAgdXNlZnVsX2RheXMsXHJcbiAgICAgICAgbnVtX2hhcnZlc3RzLFxyXG4gICAgICAgIG51bV9jcm9wcyxcclxuICAgICAgICBwcm9maXQsXHJcbiAgICAgICAgZGFpbHlfcHJvZml0LFxyXG4gICAgfTtcclxufVxyXG5cclxudHlwZSBDb2x1bW4gPSBbc3RyaW5nLCAoKGNyb3A6IENyb3BEYXRhKSA9PiBzdHJpbmcpXTtcclxubGV0IGNvbHVtbnM6IENvbHVtbltdID0gW1xyXG4gICAgW1wiTmFtZVwiLCAoY3JvcDogQ3JvcERhdGEpID0+IHsgcmV0dXJuIGNyb3AubmFtZTsgfV0sXHJcbiAgICBbXCJTZWFzb25cIiwgKGNyb3A6IENyb3BEYXRhKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIFNlYXNvbltjcm9wLnNlYXNvbl07XHJcbiAgICB9XSxcclxuICAgIFtcIlNlZWQgQ29zdFwiLCAoY3JvcDogQ3JvcERhdGEpID0+IHsgcmV0dXJuIGNyb3Auc2VlZF9jb3N0LnRvU3RyaW5nKCk7IH1dLFxyXG4gICAgW1wiU2VsbCBQcmljZVwiLCAoY3JvcDogQ3JvcERhdGEpID0+IHsgcmV0dXJuIGNyb3Auc2VsbF9wcmljZS50b1N0cmluZygpOyB9XSxcclxuICAgIFtcIkRheXMgdG8gR3Jvd1wiLCAoY3JvcDogQ3JvcERhdGEpID0+IHsgcmV0dXJuIGNyb3AuZGF5c190b19ncm93LnRvU3RyaW5nKCk7IH1dLFxyXG4gICAgW1wiUmVncm93dGggUGVyaW9kXCIsIChjcm9wOiBDcm9wRGF0YSkgPT4ge1xyXG4gICAgICAgIHJldHVybiBjcm9wLnJlZ3Jvd3RoX3BlcmlvZD8udG9TdHJpbmcoKSA/PyBcIi1cIjtcclxuICAgIH1dLFxyXG4gICAgW1wiWWllbGRcIiwgKGNyb3A6IENyb3BEYXRhKSA9PiB7XHJcbiAgICAgICAgbGV0IHlpZWxkX251bSA9IGNyb3AueWllbGQgPz8gMTtcclxuICAgICAgICBpZiAoY3JvcC5wZXJjZW50X2NoYW5jZV9leHRyYSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYCR7eWllbGRfbnVtfSArICR7Y3JvcC5wZXJjZW50X2NoYW5jZV9leHRyYX0lYDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4geWllbGRfbnVtLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfV0sXHJcbiAgICBbXCJVc2VmdWwgRGF5c1wiLCAoY3JvcDogQ3JvcERhdGEpID0+IHsgcmV0dXJuIGNyb3AudXNlZnVsX2RheXMudG9TdHJpbmcoKTsgfV0sXHJcbiAgICBbXCJOdW0gSGFydmVzdHNcIiwgKGNyb3A6IENyb3BEYXRhKSA9PiB7IHJldHVybiBjcm9wLm51bV9oYXJ2ZXN0cy50b1N0cmluZygpOyB9XSxcclxuICAgIFtcIk51bSBDcm9wc1wiLCAoY3JvcDogQ3JvcERhdGEpID0+IHtcclxuICAgICAgICBsZXQgbnVtX2Nyb3BzID0gY3JvcC5udW1fY3JvcHM7XHJcbiAgICAgICAgaWYgKE51bWJlci5pc0ludGVnZXIobnVtX2Nyb3BzKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVtX2Nyb3BzLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjcm9wLm51bV9jcm9wcy50b0ZpeGVkKDIpO1xyXG4gICAgfV0sXHJcbiAgICBbXCJQcm9maXRcIiwgKGNyb3A6IENyb3BEYXRhKSA9PiB7IHJldHVybiBjcm9wLnByb2ZpdC50b0ZpeGVkKDIpOyB9XSxcclxuICAgIFtcIkRhaWx5IFByb2ZpdFwiLCAoY3JvcDogQ3JvcERhdGEpID0+IHtcclxuICAgICAgICBpZiAoTnVtYmVyLmlzRmluaXRlKGNyb3AuZGFpbHlfcHJvZml0KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY3JvcC5kYWlseV9wcm9maXQudG9GaXhlZCgyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFwiLVwiO1xyXG4gICAgfV1cclxuXTtcclxuXHJcbmZ1bmN0aW9uIGh5ZHJhdGVUYWJsZSgpIHtcclxuICAgIGNvbnNvbGUubG9nKFwiSHlkcmF0aW5nIVwiKTtcclxuICAgIGxldCB0YWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY3JvcC10YWJsZVwiKTtcclxuICAgIGlmICghKHRhYmxlIGluc3RhbmNlb2YgSFRNTFRhYmxlRWxlbWVudCkpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjcm9wLXRhYmxlIHNob3VsZCBiZSBhIDx0YWJsZT5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgdGFibGUucmVwbGFjZUNoaWxkcmVuKCk7XHJcblxyXG4gICAgLy8gR2V0IHRoZSBpbnB1dHNcclxuICAgIGxldCBjdXJyZW50X2RheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTElucHV0RWxlbWVudD4oXCIjZGF5XCIpIS52YWx1ZUFzTnVtYmVyO1xyXG5cclxuICAgIC8vIFRhYmxlIGhlYWRlclxyXG4gICAgbGV0IHRoZWFkID0gdGFibGUuY3JlYXRlVEhlYWQoKTtcclxuICAgIGxldCByb3cgPSB0aGVhZC5pbnNlcnRSb3coKTtcclxuICAgIGZvciAobGV0IFtjb2xfbmFtZSwgX10gb2YgY29sdW1ucykge1xyXG4gICAgICAgIHJvdy5pbnNlcnRDZWxsKCkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY29sX25hbWUpKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSb3dzIGluIHRoZSB0YWJsZSBib2R5XHJcbiAgICBsZXQgdGJvZHkgPSB0YWJsZS5jcmVhdGVUQm9keSgpO1xyXG4gICAgZm9yIChsZXQgZGF0YSBvZiBjcm9wX2RlZmluaXRpb25zKSB7XHJcbiAgICAgICAgbGV0IG91dHB1dCA9IGNhbGN1bGF0ZShkYXRhLCBjdXJyZW50X2RheSk7XHJcbiAgICAgICAgbGV0IHJvdyA9IHRib2R5Lmluc2VydFJvdygpO1xyXG4gICAgICAgIGZvciAobGV0IFtfLCBjb2xfYXR0cl0gb2YgY29sdW1ucykge1xyXG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBjb2xfYXR0cihvdXRwdXQpO1xyXG4gICAgICAgICAgICByb3cuaW5zZXJ0Q2VsbCgpLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHZhbHVlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vLyBIeWRyYXRlIHRoZSB0YWJsZVxyXG5pZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJsb2FkaW5nXCIpIHtcclxuICAgIC8vIExvYWRpbmcgaGFzbid0IGZpbmlzaGVkIHlldFxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgaHlkcmF0ZVRhYmxlKTtcclxufSBlbHNlIHtcclxuICAgIC8vIGBET01Db250ZW50TG9hZGVkYCBoYXMgYWxyZWFkeSBmaXJlZFxyXG4gICAgaHlkcmF0ZVRhYmxlKCk7XHJcbn1cclxuXHJcbi8vIEFkZCBsaXN0ZW5lciB0byB0aGUgaW5wdXRzXHJcbi8vIFRPRE86IGRvbid0IHJlY3JlYXRlIHRoZSB0YWJsZSEganVzdCBlZGl0IGl0XHJcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5wdXQtcGFuZWxcIikhLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgaHlkcmF0ZVRhYmxlKTsiXSwibmFtZXMiOlsiU2Vhc29uIiwiY2FsY3VsYXRlIiwiY3JvcCIsInN0YXJ0X2RheSIsImRheXNfbGVmdCIsIm51bV9oYXJ2ZXN0cyIsInVzZWZ1bF9kYXlzIiwiZGF5c190b19ncm93IiwicmVncm93dGhfcGVyaW9kIiwiZXh0cmFfaGFydmVzdHMiLCJNYXRoIiwiZmxvb3IiLCJudW1fY3JvcHMiLCJ5aWVsZCIsInBlcmNlbnRfY2hhbmNlX2V4dHJhIiwicHJvZml0Iiwic2VsbF9wcmljZSIsInNlZWRfY29zdCIsImRhaWx5X3Byb2ZpdCIsIm5hbWUiLCJzZWFzb24iLCJmcm9tU3RyaW5nIiwicyIsInRvVXBwZXJDYXNlIiwiU1BSSU5HIiwiU1VNTUVSIiwiRkFMTCIsIkVycm9yIiwiY29sdW1ucyIsInRvU3RyaW5nIiwieWllbGRfbnVtIiwiTnVtYmVyIiwiaXNJbnRlZ2VyIiwidG9GaXhlZCIsImlzRmluaXRlIiwiaHlkcmF0ZVRhYmxlIiwiY29uc29sZSIsImxvZyIsInRhYmxlIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsIkhUTUxUYWJsZUVsZW1lbnQiLCJyZXBsYWNlQ2hpbGRyZW4iLCJjdXJyZW50X2RheSIsInF1ZXJ5U2VsZWN0b3IiLCJ2YWx1ZUFzTnVtYmVyIiwicm93IiwiY3JlYXRlVEhlYWQiLCJpbnNlcnRSb3ciLCJjb2xfbmFtZSIsIl8iLCJpbnNlcnRDZWxsIiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsInRib2R5IiwiY3JlYXRlVEJvZHkiLCJkYXRhIiwib3V0cHV0IiwiY29sX2F0dHIiLCJ2YWx1ZSIsInJlYWR5U3RhdGUiLCJhZGRFdmVudExpc3RlbmVyIl0sInNvdXJjZVJvb3QiOiIifQ==